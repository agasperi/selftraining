<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Mi webapp con Webassembly</title>
        <script type="module">
            import init, { get_coin_price } from "../pkg/crypto_prices.js";
            init().then(() => {
                button.addEventListener("click", (event) => { 
                    get_coin_price(input.value).then((price) => {
                        label.textContent = "USD$" + price;
                    });
                })
            });
            const button = document.getElementById("price_button");
            const input = document.getElementById("coin");
            const label = document.getElementById("price_label");
        </script>
    </head>
    <body>
        <div>
            <input type="text" id="coin" />
            <button id="price_button">Vamos!</button>
        </div>
        <h2 id="price_label"></h2>
    </body>
</html>